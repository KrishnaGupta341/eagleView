<!DOCTYPE html>
<html> 
<head> 
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" /> 
  <title> Eagle View</title> 
  <script async src="https://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
  
    <!-- END fh5co-wrapper -->
	<!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-app.js"></script>

	<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
	<script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-database.js"></script>
</head> 
<body>
  <div id="map" style="width: 500px; height: 400px;"></div>

  <script type="text/javascript">
	setTimeout(function(){
		document.getElementById("map").setAttribute("style","width: 100%; height:"+window.innerHeight-100+'px');
	},100)
	
	var firebaseConfig = {
		apiKey: "AIzaSyBLDsNSis8CH3OEc5wmdcOAcsv8ZxMM2xQ",
		authDomain: "wedding-invite-c7f65.firebaseapp.com",
		projectId: "wedding-invite-c7f65",
		databaseURL: "https://wedding-invite-c7f65-default-rtdb.firebaseio.com/",
		storageBucket: "wedding-invite-c7f65.appspot.com",
		messagingSenderId: "67606460371",
		appId: "1:67606460371:web:ca32671dfe08953cad6126",
		measurementId: "G-GPRZHGRFG9"
	  };
	  // Initialize Firebase
	  firebase.initializeApp(firebaseConfig);
	  // firebase.analytics();
	  var databaseLogRef = firebase.database().ref('Log/');
	 databaseLogRef.on("value", function(snapshot) {
		var data = snapshot.val();
		for(key in data){
			marker = new google.maps.Marker({
				position: new google.maps.LatLng(data[key]['latitude'], data[key]['longitude']),
				map: map
			}); 
			bounds.extend(marker.position);
		}
		map.fitBounds(bounds);
	   
	   }, function (error) {
	   console.log("Error: " + error.code);
	});


    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 10,
      center: new google.maps.LatLng(22.23930763101178, 78.21214196371729),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
	var bounds = new google.maps.LatLngBounds();

  </script>
</body>
</html>
